# ===========================================
# Nano Banana Lab - Environment Configuration
# ===========================================

# ===========================================
# Application Settings
# ===========================================

# Environment: development, staging, production
ENVIRONMENT=development

# Enable debug mode (enables hot-reload, detailed errors)
DEBUG=true

# Secret key for JWT tokens (CHANGE IN PRODUCTION!)
# Generate with: openssl rand -hex 32
SECRET_KEY=change-me-in-production-use-a-long-random-string

# ===========================================
# Server Configuration
# ===========================================

# API server host and port
HOST=0.0.0.0
PORT=8000

# ===========================================
# Redis (Required)
# ===========================================

# Redis connection URL
# Format: redis://[password@]host:port/db
REDIS_URL=redis://localhost:6379/0

# Maximum Redis connections in pool
REDIS_MAX_CONNECTIONS=10

# ===========================================
# Google Gemini API (Required)
# ===========================================

# Google AI Studio API Key
# Get your key at: https://aistudio.google.com/app/apikey
GOOGLE_API_KEY=your_google_api_key_here

# ===========================================
# Cloudflare R2 Storage (Optional)
# For cloud image persistence
# ===========================================

# Enable R2 storage
R2_ENABLED=false

# R2 Account ID
# Find it in Cloudflare Dashboard > R2 > Overview
R2_ACCOUNT_ID=your_account_id_here

# R2 Access Key ID and Secret
# Create at: Cloudflare Dashboard > R2 > Manage R2 API Tokens
R2_ACCESS_KEY_ID=your_access_key_id_here
R2_SECRET_ACCESS_KEY=your_secret_access_key_here

# R2 Bucket Name
R2_BUCKET_NAME=nano-banana-images

# R2 Public URL (for serving images)
# Example: https://images.yourdomain.com
R2_PUBLIC_URL=

# ===========================================
# GitHub OAuth Authentication (Optional)
# For user login and data isolation
# ===========================================

# Enable authentication
AUTH_ENABLED=false

# GitHub OAuth App credentials
# Create at: https://github.com/settings/applications/new
# Callback URL: https://your-domain.com/api/auth/github/callback
GITHUB_CLIENT_ID=your_github_client_id_here
GITHUB_CLIENT_SECRET=your_github_client_secret_here

# OAuth redirect URI (optional, auto-detected if not set)
GITHUB_REDIRECT_URI=

# ===========================================
# Trial Mode (Optional)
# Shared quota for users without API keys
# ===========================================

# Enable trial mode
TRIAL_ENABLED=false

# Global daily quota pool (in points)
TRIAL_GLOBAL_QUOTA=50

# Quota configuration mode: "auto" or "manual"
TRIAL_QUOTA_MODE=manual

# Cooldown between generations (seconds)
TRIAL_COOLDOWN_SECONDS=3

# Manual quota limits per mode
TRIAL_BASIC_1K_LIMIT=30
TRIAL_BASIC_4K_LIMIT=10
TRIAL_CHAT_LIMIT=20
TRIAL_BATCH_1K_LIMIT=15
TRIAL_BATCH_4K_LIMIT=5
TRIAL_SEARCH_LIMIT=15
TRIAL_BLEND_LIMIT=10

# ===========================================
# CORS Configuration
# ===========================================

# Allowed origins (comma-separated)
# Use "*" for development, specific origins for production
CORS_ORIGINS=*

# ===========================================
# Rate Limiting
# ===========================================

# Enable rate limiting
RATE_LIMIT_ENABLED=true

# Requests per minute per user
RATE_LIMIT_REQUESTS=60

# ===========================================
# Default Generation Settings
# ===========================================

# Default language (en or zh)
DEFAULT_LANGUAGE=en

# Default resolution (1K, 2K, or 4K)
DEFAULT_RESOLUTION=1K

# Default aspect ratio (1:1, 16:9, 9:16, 4:3, 3:4)
DEFAULT_ASPECT_RATIO=16:9

# Default safety level (strict, moderate, relaxed, none)
DEFAULT_SAFETY_LEVEL=moderate

# ===========================================
# Content Safety Filter
# ===========================================

# Enable keyword-based content filter
CONTENT_FILTER_ENABLED=true

# Enable AI-powered content moderation
AI_MODERATION_ENABLED=true

# Additional banned keywords (comma-separated)
BANNED_KEYWORDS=

# ===========================================
# Audit Logging
# ===========================================

# Enable audit logging for content moderation
AUDIT_LOGGING_ENABLED=true

# Enable async upload to R2
AUDIT_ASYNC_UPLOAD=true

# ===========================================
# Logging
# ===========================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
